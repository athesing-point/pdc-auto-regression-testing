/* 
 * CSS to stabilize visual testing for Point.dev
 * Suppress elements that may cause flakiness in tests
 * But preserve GSAP animations
 */

/* Hide cookie banners if they exist */
div[class*="cookie-banner"],
div[class*="cookieBanner"],
div[id*="cookie-banner"],
div[id*="cookieBanner"] {
  display: none !important;
}

/* Hide non-GSAP elements that might animate or change between page loads */
[class*="carousel"]:not([class*="gsap"]):not([data-gsap]),
[class*="slider"]:not([class*="gsap"]):not([data-gsap]),
[class*="animation"]:not([class*="gsap"]):not([data-gsap]),
[class*="animate"]:not([class*="gsap"]):not([data-gsap]),
[class*="typewriter"]:not([class*="gsap"]):not([data-gsap]) {
  visibility: hidden !important;
}

/* Hide chat widgets, notification popups */
[id*="chat-widget"],
[class*="chat-widget"],
[class*="notification"],
[class*="popup"],
iframe[title*="chat"] {
  display: none !important;
}

/* Hide video players that might autoplay */
video:not([class*="gsap"]):not([data-gsap]),
[class*="video-player"]:not([class*="gsap"]):not([data-gsap]),
[id*="video-player"]:not([class*="gsap"]):not([data-gsap]) {
  visibility: hidden !important;
}

/* Stabilize link states */
a:visited {
  color: inherit !important;
}

/* Remove any blinking cursors */
[class*="cursor"]:not([class*="gsap"]):not([data-gsap]),
.blinking:not([class*="gsap"]):not([data-gsap]) {
  animation: none !important;
  opacity: 1 !important;
}

/* Hide any date/time that might change between tests */
[class*="date"]:not([class*="gsap"]):not([data-gsap]),
[class*="time"]:not([class*="gsap"]):not([data-gsap]),
time:not([class*="gsap"]):not([data-gsap]) {
  visibility: hidden !important;
}

/* Force GSAP animations into their end state if not properly triggered */
.gsap-force-end {
  opacity: 1 !important;
  transform: none !important;
  visibility: visible !important;
  transition: none !important;
}
